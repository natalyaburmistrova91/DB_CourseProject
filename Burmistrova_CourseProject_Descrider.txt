-- Составить общее текстовое описание БД и решаемых ею задач;

База данных моего курсового проекта предназначена для небольших банков, в которых не нужна отдельная разбивка на разные таблицы по физических лицах, индицидуальным предпринимателя и организациям.

База данных состоит из следующих таблиц:

 
1. clients - общий список клиентов и присваивание клиенту типа
2. client_types - типы клиентов (физические лица, индицидуальные предприниматели и организации)
3. organizations_profiles - профайл организаций, где собрана по ним информация
4. phyzicals_profiles - профайл физических лиц, где собрана по ним информация
5. entrepreneurs_profiles - профайл индвидиуальных предпринимателей, где собрана по ним информация
6. official_documents - документы, которые предоставили клиенты (тип документов, их номера, дата получения, дата окончания)
7. document_types - типы документов
8. accounts - расчетные счета клиентов (включают рублевые, евро и доллар счета и суммы на них)
9. messages - сообщения, которыми могут обмениваться физические лица и индивидуальные предприниматели, для уточнения и описания переводов
10. payments - платежи (кто отправил платеж, тип платежа, сумма, кому предназначался платеж)
11. payment_types - типы платежей
12. services - услуги, подключенные к клиенту
13. service_types - типы услуг

Внешние ключи были использованы следующие:
clients (client_type) -	client_types(id)
accounts (client_id) -	clients(id)
organizations_profiles(client_id) - clients(id)
phyzicals_profiles (client_id) - clients(id)
entrepreneurs_profiles (client_id) - clients(id)
official_documents (document_type_id) - document_types (id)
official_documents (client_id) - clients(id)
messages (from_client_id) - clients(id)
messages (to_client_id) - clients(id)
payments (payment_type) - payment_types(id)
payments (client_id) -	clients(id)
services (service_type) - service_types(id)
services (client_id) -	clients(id)

Введенные индексы:
1. Для проверки состояния рублевого расчетного счета
2. Для проверки истории платежей
3. Для просмотра какие услуги были подключены
4. Для просмотра сообщений

Запросы с использованием вложенных таблиц:
1. Определение количества клиентов по типу
2. Определение сколько рублевых денежных средств находится на счетах у клиентов в разбивке по типу клиентов с выведение общей суммы
3. Типы документов, которые предоставляли определенные типы пользователей
4. Сколько всего документов было предоставлено 

Запросы с использованием вложенных таблиц и Join соединений:
1. История сообщений 

Представления:
1. Представление, описывающее подключенные услуги пользователям (Сводная таблицы - id, имя клиента, тип клиента, полюченная услуга)
2. Представление, описывающее клиентов более детально (Сводная таблица - id, тип клиента, имя клиента)

Хранимые процедуры:
1. Напоминание по шагам, что необходимо сделать, чтобы завести нового клиента, в какие таблицы нужно внести информацию
2. Обновление обхим сумм по валютам, которые имеет банк на расчетном счете

Триггеры:
1. Проверка правильности новой вводимой информации в таблицу accounts со следующими условиями:
 - рублевый счет и рублевая сумма не должны быть NULL
 - одно из значений евро и доллар счета и суммы не должны быть NULL
2. Проверка обновления вводимой информации в таблицу accounts со следующими условиями:
 - рублевый счет и рублевая сумма не должны быть NULL
 - одно из значений евро (счет или сумма) и доллар (счет или сумма) не должны быть NULL

